<!--è´­ç‰©è½¦-->
<view class="container">
  <!-- æœªç™»å½• -->
  <view class="not-login" wx:if="{{!loading && cartList.length === 0}}">
    <text class="empty-icon">ğŸ›’</text>
    <text class="empty-text">è´­ç‰©è½¦ç©ºç©ºå¦‚ä¹Ÿ</text>
    <view class="empty-btn" bindtap="goLogin">å»é€›é€›</view>
  </view>

  <!-- è´­ç‰©è½¦åˆ—è¡¨ -->
  <view class="cart-list" wx:if="{{cartList.length > 0}}">
    <view class="cart-item" wx:for="{{cartList}}" wx:key="cartId">
      <view class="checkbox {{item.selected ? 'checked' : ''}}" 
        bindtap="toggleSelect" data-index="{{index}}">
        <text wx:if="{{item.selected}}">âœ“</text>
      </view>
      
      <image class="item-image" src="{{item.thumb}}" mode="aspectFill"/>
      
      <view class="item-info">
        <text class="item-name">{{item.name}}</text>
        <text class="item-specs">{{item.specs.size}} {{item.specs.material}} {{item.specs.materialColor}}</text>
        <view class="item-bottom">
          <text class="item-price">Â¥{{item.price}}</text>
          <view class="quantity-control">
            <view class="qty-btn" bindtap="changeQuantity" 
              data-index="{{index}}" data-type="minus">-</view>
            <text class="qty-num">{{item.count}}</text>
            <view class="qty-btn" bindtap="changeQuantity" 
              data-index="{{index}}" data-type="plus">+</view>
          </view>
        </view>
      </view>
      
      <view class="delete-btn" bindtap="deleteItem" data-index="{{index}}">Ã—</view>
    </view>
  </view>

  <!-- åº•éƒ¨ç»“ç®—æ  -->
  <view class="bottom-bar" wx:if="{{cartList.length > 0}}">
    <view class="select-all" bindtap="toggleSelectAll">
      <view class="checkbox {{selectedAll ? 'checked' : ''}}">
        <text wx:if="{{selectedAll}}">âœ“</text>
      </view>
      <text>å…¨é€‰</text>
    </view>
    <view class="total">
      <text>åˆè®¡ï¼š</text>
      <text class="total-price">Â¥{{totalPrice}}</text>
    </view>
    <view class="checkout-btn" bindtap="checkout">å»ç»“ç®—</view>
  </view>
</view>

<!-- åŠ è½½ä¸­ -->
<view class="loading" wx:if="{{loading}}">
  <text>åŠ è½½ä¸­...</text>
</view>
