<navigation-bar title="店铺信息" back="{{true}}" color="black" background="#FFF"></navigation-bar>
<view class="page">

	<!-- 地图区域 -->
	<view class="map-area">
		<map
			wx:if="{{shopInfo.latitude && shopInfo.longitude}}"
			class="shop-map"
			latitude="{{shopInfo.latitude}}"
			longitude="{{shopInfo.longitude}}"
			scale="15"
			markers="{{markers}}"
			show-location="{{false}}"
		></map>
		<view wx:else class="map-placeholder">
			<text class="map-placeholder-icon">📍</text>
			<text class="map-placeholder-text">{{shopInfo.address || '暂无地址信息'}}</text>
		</view>
	</view>

	<!-- 店铺基本信息 -->
	<view class="shop-basic">
		<view class="shop-basic-row">
			<view class="shop-logo-wrap">
				<image wx:if="{{shopInfo.logo}}" class="shop-logo" src="{{shopInfo.logo}}" mode="aspectFill"></image>
				<view wx:else class="shop-logo-placeholder">
					<text>{{shopInfo.name[0] || '店'}}</text>
				</view>
			</view>
			<view class="shop-basic-info">
				<view class="shop-name-row">
					<text class="shop-name">{{shopInfo.name}}</text>
					<view wx:if="{{shopInfo.isVerified}}" class="shop-verified-tag">
						<text>✓ 认证连锁</text>
					</view>
				</view>
				<view class="shop-stats" wx:if="{{shopInfo.factoryArea || shopInfo.showroomArea || shopInfo.craftProcesses}}">
					<text wx:if="{{shopInfo.factoryArea}}">工厂 {{shopInfo.factoryArea}}</text>
					<text wx:if="{{shopInfo.factoryArea && shopInfo.showroomArea}}" class="dot-sep">·</text>
					<text wx:if="{{shopInfo.showroomArea}}">展厅 {{shopInfo.showroomArea}}</text>
					<text wx:if="{{(shopInfo.factoryArea || shopInfo.showroomArea) && shopInfo.craftProcesses}}" class="dot-sep">·</text>
					<text wx:if="{{shopInfo.craftProcesses}}">{{shopInfo.craftProcesses}}</text>
				</view>
				<text wx:if="{{shopInfo.description}}" class="shop-desc">{{shopInfo.description}}</text>
			</view>
		</view>
	</view>

	<!-- 联系信息 -->
	<view class="contact-section">
		<!-- 联系人 -->
		<view class="contact-item">
			<view class="contact-icon-wrap"><text class="contact-icon">👤</text></view>
			<view class="contact-content">
				<text class="contact-label">联系人</text>
				<text class="contact-value">{{shopInfo.contactName || '-'}}</text>
			</view>
			<view class="contact-action" bindtap="handleCall">
				<text>拨打</text>
			</view>
		</view>

		<!-- 电话 -->
		<view class="contact-item">
			<view class="contact-icon-wrap"><text class="contact-icon">📞</text></view>
			<view class="contact-content">
				<text class="contact-label">电话</text>
				<text class="contact-value">{{shopInfo.phone || '-'}}</text>
			</view>
		</view>

		<!-- 营业时间 -->
		<view class="contact-item">
			<view class="contact-icon-wrap"><text class="contact-icon">🕐</text></view>
			<view class="contact-content">
				<text class="contact-label">运营时间</text>
				<text class="contact-value">{{shopInfo.businessHours || '-'}}</text>
			</view>
		</view>

		<!-- 地址 -->
		<view class="contact-item">
			<view class="contact-icon-wrap"><text class="contact-icon">📍</text></view>
			<view class="contact-content">
				<text class="contact-label">地址</text>
				<text class="contact-value">{{shopInfo.address || '-'}}</text>
			</view>
			<view class="contact-action" bindtap="handleNavigate">
				<text>导航</text>
			</view>
		</view>
	</view>

	<!-- 底部占位 -->
	<view style="height: 160rpx;"></view>
</view>

<!-- 底部操作栏 -->
<view class="bottom-bar">
	<view class="bottom-btn" bindtap="handleCall">
		<text class="bottom-btn-icon">📞</text>
		<text>电话咨询</text>
	</view>
	<view class="bottom-btn" bindtap="handleNavigate">
		<text class="bottom-btn-icon">🧭</text>
		<text>导航到店</text>
	</view>
</view>
