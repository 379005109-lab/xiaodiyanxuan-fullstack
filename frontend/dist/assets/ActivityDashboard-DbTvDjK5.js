import{j as e,d as s,s as t}from"./index-DWFic46w.js";import{r as a}from"./react-vendor-E1AgTUZ9.js";import{aO as r,Y as l,an as c,H as d,N as n,f as i,T as o,aT as x}from"./ui-vendor-CQy3HONI.js";import"./recharts-wIacPPq0.js";function m(){const[m,h]=a.useState(null),[g,j]=a.useState(!0);if(a.useEffect(()=>{(async()=>{try{const e=await t.get("/dashboard/activity");h(e.data.data)}catch(e){}finally{j(!1)}})()},[]),g)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!m)return e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Âä†ËΩΩÊï∞ÊçÆÂ§±Ë¥•"});const p=({title:s,icon:t,today:a,week:r,month:l,color:c})=>e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg ${c} flex items-center justify-center`,children:e.jsx(t,{className:"w-5 h-5 text-white"})}),e.jsx("h3",{className:"font-semibold text-gray-900",children:s})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a}),e.jsx("p",{className:"text-xs text-gray-500",children:"‰ªäÊó•"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r}),e.jsx("p",{className:"text-xs text-gray-500",children:"Êú¨Âë®"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:l}),e.jsx("p",{className:"text-xs text-gray-500",children:"Êú¨Êúà"})]})]})]});return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Áî®Êà∑Ê¥ªË∑ÉÂ∫¶ÁúãÊùø"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(r,{className:"w-4 h-4"}),(new Date).toLocaleDateString("zh-CN")]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsx(p,{title:"Áî®Êà∑ÁôªÂΩï",icon:l,today:m.loginStats.today,week:m.loginStats.week,month:m.loginStats.month,color:"bg-blue-500"}),e.jsx(p,{title:"ÂïÜÂìÅÊµèËßà",icon:c,today:m.browseStats.today,week:m.browseStats.week,month:m.browseStats.month,color:"bg-purple-500"}),e.jsx(p,{title:"ÂïÜÂìÅÊî∂Ëóè",icon:d,today:m.favoriteStats.today,week:m.favoriteStats.week,month:m.favoriteStats.month,color:"bg-red-500"}),e.jsx(p,{title:"ÂïÜÂìÅÂØπÊØî",icon:n,today:m.compareStats.today,week:m.compareStats.week,month:m.compareStats.month,color:"bg-orange-500"}),e.jsx(p,{title:"Âä†ÂÖ•Ë¥≠Áâ©ËΩ¶",icon:i,today:m.cartStats.today,week:m.cartStats.week,month:m.cartStats.month,color:"bg-green-500"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(o,{className:"w-5 h-5 text-blue-500"}),"Ëøë7Â§©Áî®Êà∑ÁôªÂΩïË∂ãÂäø"]}),e.jsx("div",{className:"flex items-end justify-between gap-2 h-40",children:m.loginTrend.map((s,t)=>{const a=Math.max(...m.loginTrend.map(e=>e.count),1),r=s.count/a*100;return e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-600 font-medium",children:s.count}),e.jsx("div",{className:"w-full bg-blue-500 rounded-t-lg transition-all hover:bg-blue-600",style:{height:`${Math.max(r,5)}%`}}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-500",children:s.dayName}),e.jsx("p",{className:"text-xs text-gray-400",children:s.date})]})]},t)})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(x,{className:"w-5 h-5 text-yellow-500"}),"ÊúÄÊ¥ªË∑ÉÁî®Êà∑ TOP 10"]}),e.jsxs("div",{className:"space-y-3",children:[m.topActiveUsers.map((s,t)=>e.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg "+(t<3?"bg-yellow-50 border border-yellow-100":"bg-gray-50"),children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm "+(0===t?"bg-yellow-500 text-white":1===t?"bg-gray-400 text-white":2===t?"bg-orange-400 text-white":"bg-gray-200 text-gray-600"),children:t+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900 truncate",children:s.nickname||s.phone||s.username||"Êú™Áü•Áî®Êà∑"}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Ê¥ªË∑ÉÂ∫¶: ",s.activityScore," ¬∑ ÊµèËßà: ",s.browseCount," ¬∑ Êî∂Ëóè: ",s.favoriteCount," ¬∑ ÂØπÊØî: ",s.compareCount," ¬∑ Âä†Ë¥≠: ",s.cartCount]})]}),t<3&&e.jsx("span",{className:"text-lg",children:0===t?"ü•á":1===t?"ü•à":"ü•â"})]},s._id)),0===m.topActiveUsers.length&&e.jsx("p",{className:"text-center text-gray-500 py-4",children:"ÊöÇÊó†Êï∞ÊçÆ"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(c,{className:"w-5 h-5 text-purple-500"}),"Ë¢´ÊµèËßàÊúÄÂ§öÁöÑÂïÜÂìÅ TOP 10"]}),e.jsxs("div",{className:"space-y-3",children:[m.topBrowsedProducts.map((t,a)=>e.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"w-6 text-center text-sm font-medium text-gray-500",children:a+1}),t.thumbnail?e.jsx("img",{src:s(t.thumbnail),alt:t.productName,className:"w-10 h-10 rounded object-cover",onError:e=>{e.target.src="/placeholder.svg"}}):e.jsx("div",{className:"w-10 h-10 rounded bg-gray-100 flex items-center justify-center",children:e.jsx(c,{className:"w-4 h-4 text-gray-400"})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.productName||"Êú™Áü•ÂïÜÂìÅ"})}),e.jsxs("span",{className:"text-sm font-semibold text-purple-600",children:[t.browseCount," Ê¨°"]})]},t._id)),0===m.topBrowsedProducts.length&&e.jsx("p",{className:"text-center text-gray-500 py-4",children:"ÊöÇÊó†Êï∞ÊçÆ"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(d,{className:"w-5 h-5 text-red-500"}),"Ë¢´Êî∂ËóèÊúÄÂ§öÁöÑÂïÜÂìÅ TOP 10"]}),e.jsxs("div",{className:"space-y-3",children:[m.topFavoritedProducts.map((t,a)=>e.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"w-6 text-center text-sm font-medium text-gray-500",children:a+1}),t.thumbnail?e.jsx("img",{src:s(t.thumbnail),alt:t.productName,className:"w-10 h-10 rounded object-cover",onError:e=>{e.target.src="/placeholder.svg"}}):e.jsx("div",{className:"w-10 h-10 rounded bg-gray-100 flex items-center justify-center",children:e.jsx(d,{className:"w-4 h-4 text-gray-400"})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.productName||"Êú™Áü•ÂïÜÂìÅ"})}),e.jsxs("span",{className:"text-sm font-semibold text-red-600",children:[t.favoriteCount," Ê¨°"]})]},t._id)),0===m.topFavoritedProducts.length&&e.jsx("p",{className:"text-center text-gray-500 py-4",children:"ÊöÇÊó†Êï∞ÊçÆ"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(n,{className:"w-5 h-5 text-orange-500"}),"Ë¢´ÂØπÊØîÊúÄÂ§öÁöÑÂïÜÂìÅ TOP 10"]}),e.jsxs("div",{className:"space-y-3",children:[m.topComparedProducts.map((s,t)=>e.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"w-6 text-center text-sm font-medium text-gray-500",children:t+1}),e.jsx("div",{className:"w-10 h-10 rounded bg-gray-100 flex items-center justify-center",children:e.jsx(n,{className:"w-4 h-4 text-gray-400"})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s._id})}),e.jsxs("span",{className:"text-sm font-semibold text-orange-600",children:[s.compareCount," Ê¨°"]})]},s._id)),0===m.topComparedProducts.length&&e.jsx("p",{className:"text-center text-gray-500 py-4",children:"ÊöÇÊó†Êï∞ÊçÆ"})]})]})]})]})}export{m as default};
