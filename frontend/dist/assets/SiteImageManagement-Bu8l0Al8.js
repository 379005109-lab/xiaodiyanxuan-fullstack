import{j as e,d as s}from"./index-DWFic46w.js";import{r as l}from"./react-vendor-E1AgTUZ9.js";import{u as a,aa as r,as as c,B as t}from"./ui-vendor-CQy3HONI.js";import{I as i}from"./ImageUploader-CVsKFz9c.js";import{g as d,b as m}from"./siteConfigService-DNDE2ezQ.js";import"./recharts-wIacPPq0.js";function o(){const[o,n]=l.useState(!1),[x,h]=l.useState(!1),[j,y]=l.useState({"home.hero":"","home.showroom":"","home.defaultProduct":"","style.modern":"","style.vintage":"","style.luxury":"","style.minimal":""});l.useEffect(()=>{b()},[]);const b=async()=>{n(!0);try{const e=await d();y({"home.hero":e["home.hero"]||"","home.showroom":e["home.showroom"]||"","home.defaultProduct":e["home.defaultProduct"]||"","style.modern":e["style.modern"]||"","style.vintage":e["style.vintage"]||"","style.luxury":e["style.luxury"]||"","style.minimal":e["style.minimal"]||""})}catch(e){a.error("加载图片失败")}finally{n(!1)}};if(o)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"加载中..."})]})});const p=l=>e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:`p-2 rounded-lg bg-${l.color}-100`,children:e.jsx(t,{className:`h-5 w-5 text-${l.color}-600`})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:l.label}),e.jsx("p",{className:"text-sm text-gray-500",children:l.desc})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(i,{images:j[l.key]?[j[l.key]]:[],onChange:e=>y({...j,[l.key]:e[0]||""}),multiple:!1,maxImages:1,label:`点击上传${l.label}`}),j[l.key]&&e.jsxs("div",{className:"relative h-32 rounded-lg overflow-hidden",children:[e.jsx("img",{src:s(j[l.key]),alt:l.label,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center text-white",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h4",{className:"text-lg font-bold",children:l.label}),e.jsx("p",{className:"text-sm opacity-90",children:"已上传"})]})})]})]})]},l.key);return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"网站图片管理"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"管理网站首页和商城页面的图片"})]}),e.jsxs("button",{onClick:async()=>{h(!0);try{await m(j),a.success("保存成功")}catch(e){a.error("保存失败")}finally{h(!1)}},disabled:x,className:"btn-primary px-6 py-2 flex items-center gap-2",children:[e.jsx(r,{className:"h-4 w-4"}),x?"保存中...":"保存设置"]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"w-1 h-5 bg-primary rounded"}),"首页图片"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{key:"home.hero",label:"首页横幅背景",color:"stone",desc:"首页顶部Hero区域背景图"},{key:"home.showroom",label:"展厅图片",color:"green",desc:"佛山展厅区域的展示图"},{key:"home.defaultProduct",label:"默认商品图",color:"blue",desc:"商品无图时的默认显示图"}].map(p)})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"w-1 h-5 bg-amber-500 rounded"}),"风格卡片背景"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{key:"style.modern",label:"现代风",color:"blue",desc:"现代风格卡片背景"},{key:"style.vintage",label:"中古风",color:"amber",desc:"中古风格卡片背景"},{key:"style.luxury",label:"轻奢风",color:"purple",desc:"轻奢风格卡片背景"},{key:"style.minimal",label:"极简风",color:"gray",desc:"极简风格卡片背景"}].map(p)})]}),e.jsxs("div",{className:"card p-6",children:[e.jsxs("h3",{className:"font-semibold text-lg mb-3 flex items-center gap-2",children:[e.jsx(c,{className:"h-5 w-5"}),"使用说明"]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("p",{children:["• ",e.jsx("b",{children:"首页横幅背景"}),"：显示在首页顶部Hero区域的背景图"]}),e.jsxs("p",{children:["• ",e.jsx("b",{children:"展厅图片"}),"：显示在佛山展厅介绍区域"]}),e.jsxs("p",{children:["• ",e.jsx("b",{children:"默认商品图"}),"：当商品没有图片时显示的默认图片"]}),e.jsxs("p",{children:["• ",e.jsx("b",{children:"风格卡片背景"}),"：显示在商城页面的风格分类卡片背景"]}),e.jsx("p",{children:'• 上传后点击"保存设置"按钮，图片才会在网站上生效'}),e.jsx("p",{children:"• 推荐尺寸：1200x600px，16:9比例，JPG或PNG格式"})]})]})]})}export{o as default};
