import{b as e,h as r,j as s}from"./index-DWFic46w.js";import{u as a,r as i}from"./react-vendor-E1AgTUZ9.js";import{u as t,a5 as l,a6 as o,a7 as n}from"./ui-vendor-CQy3HONI.js";import{m as d}from"./framer-motion-7DcRqacn.js";import"./recharts-wIacPPq0.js";const c=[{id:"owner",title:"业主",description:"购买家居产品和服务",icon:s.jsx(l,{className:"h-8 w-8"}),color:"text-blue-600",bgColor:"bg-blue-100"},{id:"designer",title:"设计师",description:"为客户提供设计服务",icon:s.jsx(o,{className:"h-8 w-8"}),color:"text-purple-600",bgColor:"bg-purple-100"},{id:"professional",title:"从业者",description:"家居行业专业人士",icon:s.jsx(n,{className:"h-8 w-8"}),color:"text-green-600",bgColor:"bg-green-100"}];function m(){const l=a(),{user:o,updateUserRole:n}=e(),[m,x]=i.useState(null),[p,h]=i.useState(!1);if(!o)return r.getState().openLogin(),l("/"),null;return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 flex items-center justify-center py-12 px-4",children:s.jsx(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-2xl w-full",children:s.jsxs("div",{className:"card p-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"选择您的身份"}),s.jsx("p",{className:"text-gray-600",children:"选择最符合您的身份，我们将为您提供定制化的服务体验"})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:c.map((e,r)=>s.jsxs(d.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*r},onClick:()=>(async e=>{var r;x(e),h(!0);try{n(e),t.success(`已选择身份：${null==(r=c.find(r=>r.id===e))?void 0:r.title}`),setTimeout(()=>{"owner"===e?l("/"):"designer"===e?l("/designer/dashboard"):"professional"===e&&l("/professional/dashboard")},500)}catch(s){t.error(s.message||"选择身份失败"),x(null)}finally{h(!1)}})(e.id),disabled:p,className:`relative p-6 rounded-xl border-2 transition-all transform hover:scale-105 ${m===e.id?"border-primary-600 bg-primary-50 shadow-lg":"border-gray-200 hover:border-primary-300 bg-white"} ${p&&m!==e.id?"opacity-50 cursor-not-allowed":""}`,children:[m===e.id&&s.jsx(d.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-3 right-3 w-6 h-6 bg-primary-600 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),s.jsx("div",{className:`w-16 h-16 ${e.bgColor} rounded-lg flex items-center justify-center mx-auto mb-4`,children:s.jsx("div",{className:e.color,children:e.icon})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.title}),s.jsx("p",{className:"text-sm text-gray-600",children:e.description}),m===e.id&&p&&s.jsxs(d.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-4 flex items-center justify-center gap-2 text-primary-600",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-primary-600 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"text-sm font-medium",children:"正在跳转..."})]})]},e.id))}),s.jsx("div",{className:"text-center text-sm text-gray-600",children:s.jsx("p",{children:"您可以在账户设置中随时更改身份"})})]})})})}export{m as default};
