import{j as e,f as a}from"./index-DWFic46w.js";import{R as s}from"./react-vendor-E1AgTUZ9.js";import{g as t}from"./dashboardService-PDSHh-jV.js";import{f as l,Y as n,ae as r,T as i,af as o,P as c,ag as d,ah as m}from"./ui-vendor-CQy3HONI.js";import{m as x}from"./framer-motion-7DcRqacn.js";import{R as u,L as h,C as j,X as y,Y as p,T as g,a as v,b as f,P as b,d as N,e as w,B,f as K}from"./recharts-wIacPPq0.js";function C(){const[C,F]=s.useState(!0),[R,D]=s.useState(null),[k,O]=s.useState(null),$={todayOrders:"156",ordersChange:"+12.5%",newCustomers:"48",customersChange:"+8.2%",conversionRate:"3.6%",conversionChange:"+0.6%",todayRevenue:"428000",revenueChange:"+15.3%",totalUsers:2380,totalOrders:1560,totalProducts:145};if(s.useEffect(()=>{(async()=>{try{const e=await t();e&&(e.todayOrders||e.summary)?(D(e),O(null)):(D($),O("服务器返回空数据，显示示例数据"))}catch(e){D($),O(e.message||"加载数据失败，显示示例数据")}finally{F(!1)}})()},[]),C)return e.jsxs("div",{className:"p-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"仪表板"}),e.jsx("p",{className:"text-gray-600",children:"数据加载中..."})]});const E=[{title:"今日订单",value:(null==R?void 0:R.todayOrders)||"0",change:(null==R?void 0:R.ordersChange)||"+0%",trend:"up",icon:l,color:"bg-blue-500"},{title:"新客数",value:(null==R?void 0:R.newCustomers)||"0",change:(null==R?void 0:R.customersChange)||"+0%",trend:"up",icon:n,color:"bg-green-500"},{title:"转化率",value:(null==R?void 0:R.conversionRate)||"0%",change:(null==R?void 0:R.conversionChange)||"+0%",trend:"up",icon:r,color:"bg-purple-500"},{title:"平均订单金额",value:"¥2,458",change:"+5.2%",trend:"up",icon:i,color:"bg-orange-500"},{title:"本月营收",value:"¥458,234",change:"+15.8%",trend:"up",icon:o,color:"bg-red-500"},{title:"商品总数",value:"1,245",change:"+8",trend:"up",icon:c,color:"bg-indigo-500"}],S=[{name:"待付款",value:234,color:"#FBBF24"},{name:"处理中",value:456,color:"#3B82F6"},{name:"已付款",value:789,color:"#10B981"},{name:"已发货",value:567,color:"#8B5CF6"},{name:"已完成",value:1234,color:"#06B6D4"},{name:"已取消",value:123,color:"#EF4444"}],U=[{name:"中古风",value:320,color:"#8B5CF6"},{name:"现代风",value:450,color:"#3B82F6"},{name:"奶油风",value:280,color:"#F59E0B"},{name:"极简风",value:195,color:"#10B981"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"数据仪表盘"}),e.jsxs("select",{className:"input w-48",children:[e.jsx("option",{children:"最近7天"}),e.jsx("option",{children:"最近30天"}),e.jsx("option",{children:"最近90天"}),e.jsx("option",{children:"最近一年"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:E.map((a,s)=>{const t=a.icon;return e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.08*s},className:"card p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1 truncate",children:a.title}),e.jsx("h3",{className:"text-lg font-bold mb-1 truncate",children:a.value}),e.jsxs("div",{className:"flex items-center space-x-1",children:["up"===a.trend?e.jsx(d,{className:"h-3 w-3 text-green-500"}):e.jsx(m,{className:"h-3 w-3 text-red-500"}),e.jsx("span",{className:"text-xs font-medium "+("up"===a.trend?"text-green-500":"text-red-500"),children:a.change})]})]}),e.jsx("div",{className:`w-10 h-10 ${a.color} rounded-lg flex items-center justify-center flex-shrink-0 ml-2`,children:e.jsx(t,{className:"h-5 w-5 text-white"})})]})},a.title)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"card lg:col-span-2",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"年度销售趋势"}),e.jsx(u,{width:"100%",height:300,children:e.jsxs(h,{data:[{name:"1月",value:45e3},{name:"2月",value:52e3},{name:"3月",value:48e3},{name:"4月",value:61e3},{name:"5月",value:55e3},{name:"6月",value:67e3},{name:"7月",value:72e3},{name:"8月",value:68e3},{name:"9月",value:75e3},{name:"10月",value:81e3},{name:"11月",value:89e3},{name:"12月",value:95e3}],children:[e.jsx(j,{strokeDasharray:"3 3"}),e.jsx(y,{dataKey:"name"}),e.jsx(p,{}),e.jsx(g,{formatter:e=>a(Number(e))}),e.jsx(v,{}),e.jsx(f,{type:"monotone",dataKey:"value",stroke:"#3B82F6",strokeWidth:2,name:"销售额"})]})})]}),e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"订单状态分布"}),e.jsx(u,{width:"100%",height:300,children:e.jsxs(b,{children:[e.jsx(N,{data:S,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,value:a})=>`${e} ${a}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:S.map((a,s)=>e.jsx(w,{fill:a.color},`cell-${s}`))}),e.jsx(g,{})]})})]}),e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"商品风格分布"}),e.jsx(u,{width:"100%",height:300,children:e.jsxs(b,{children:[e.jsx(N,{data:U,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:a})=>`${e} ${(100*a).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:U.map((a,s)=>e.jsx(w,{fill:a.color},`cell-${s}`))}),e.jsx(g,{})]})})]}),e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"商品价格分布"}),e.jsx(u,{width:"100%",height:300,children:e.jsxs(B,{data:[{range:"0-2K",count:245},{range:"2-5K",count:389},{range:"5-10K",count:234},{range:"10K+",count:156}],children:[e.jsx(j,{strokeDasharray:"3 3"}),e.jsx(y,{dataKey:"range"}),e.jsx(p,{}),e.jsx(g,{}),e.jsx(v,{}),e.jsx(K,{dataKey:"count",fill:"#8B5CF6",name:"商品数量"})]})})]}),e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"card lg:col-span-2",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"用户活跃度统计"}),e.jsx(u,{width:"100%",height:300,children:e.jsxs(h,{data:[{day:"周一",dau:1234,wau:5678,mau:8234},{day:"周二",dau:1456,wau:5890,mau:8456},{day:"周三",dau:1289,wau:5745,mau:8345},{day:"周四",dau:1534,wau:6012,mau:8567},{day:"周五",dau:1678,wau:6234,mau:8789},{day:"周六",dau:1890,wau:6456,mau:8901},{day:"周日",dau:1745,wau:6345,mau:8845}],children:[e.jsx(j,{strokeDasharray:"3 3"}),e.jsx(y,{dataKey:"day"}),e.jsx(p,{}),e.jsx(g,{}),e.jsx(v,{}),e.jsx(f,{type:"monotone",dataKey:"dau",stroke:"#3B82F6",name:"日活(DAU)"}),e.jsx(f,{type:"monotone",dataKey:"wau",stroke:"#10B981",name:"周活(WAU)"}),e.jsx(f,{type:"monotone",dataKey:"mau",stroke:"#F59E0B",name:"月活(MAU)"})]})})]})]}),e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"card",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"最新订单"}),e.jsx("button",{className:"text-primary-600 hover:text-primary-700 text-sm",children:"查看全部 →"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"订单号"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"客户"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"金额"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"状态"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"时间"})]})}),e.jsx("tbody",{children:[{no:"ORD202411070001",customer:"张三",amount:5999,status:"已支付",time:"10:30"},{no:"ORD202411070002",customer:"李四",amount:3499,status:"待支付",time:"10:25"},{no:"ORD202411070003",customer:"王五",amount:8888,status:"已支付",time:"10:20"},{no:"ORD202411070004",customer:"赵六",amount:12999,status:"已发货",time:"10:15"},{no:"ORD202411070005",customer:"钱七",amount:4599,status:"已支付",time:"10:10"}].map(s=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4 text-sm",children:s.no}),e.jsx("td",{className:"py-3 px-4 text-sm",children:s.customer}),e.jsx("td",{className:"py-3 px-4 text-sm font-medium",children:a(s.amount)}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"px-2 py-1 text-xs rounded-full "+("已支付"===s.status?"bg-green-100 text-green-700":"待支付"===s.status?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"),children:s.status})}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:s.time})]},s.no))})]})})]})]})}export{C as default};
